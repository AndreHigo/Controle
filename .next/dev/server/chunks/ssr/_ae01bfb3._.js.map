{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/05585611100/Videos/CtrlGastos/Controle/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\r\nimport { cookies } from \"next/headers\"\r\n\r\nexport async function createClient() {\r\n  const cookieStore = await cookies()\r\n\r\n  return createServerClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!, {\r\n    cookies: {\r\n      getAll() {\r\n        return cookieStore.getAll()\r\n      },\r\n      setAll(cookiesToSet) {\r\n        try {\r\n          cookiesToSet.forEach(({ name, value, options }) => cookieStore.set(name, value, options))\r\n        } catch {\r\n          // The \"setAll\" method was called from a Server Component.\r\n          // This can be ignored if you have proxy refreshing user sessions.\r\n        }\r\n      },\r\n    },\r\n  })\r\n}\r\n\r\nexport { createClient as createServerClient }\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,yQAAO;IAEjC,OAAO,IAAA,4SAAkB,sUAAoF;QAC3G,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAK,YAAY,GAAG,CAAC,MAAM,OAAO;gBAClF,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,kEAAkE;gBACpE;YACF;QACF;IACF;AACF"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/05585611100/Videos/CtrlGastos/Controle/lib/validations.ts"],"sourcesContent":["import { z } from \"zod\"\n\nexport const transactionSchema = z.object({\n  title: z.string().min(1, \"Título é obrigatório\").max(255, \"Título muito longo\"),\n  amount: z.number().positive(\"Valor deve ser maior que zero\"),\n  type: z.enum([\"income\", \"expense\"], {\n    errorMap: () => ({ message: \"Tipo deve ser receita ou despesa\" }),\n  }),\n  category_id: z.string().uuid(\"Categoria inválida\").nullable(),\n  credit_card_id: z.string().uuid(\"Cartão inválido\").nullable(),\n  date: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, \"Data inválida (formato: YYYY-MM-DD)\"),\n  description: z.string().max(1000, \"Descrição muito longa\").nullable(),\n})\n\nexport const creditCardSchema = z.object({\n  name: z.string().min(1, \"Nome é obrigatório\").max(100, \"Nome muito longo\"),\n  lastDigits: z\n    .string()\n    .regex(/^\\d{4}$/, \"Últimos dígitos devem ter 4 números\")\n    .nullable()\n    .or(z.literal(\"\")),\n  creditLimit: z.number().positive(\"Limite deve ser maior que zero\"),\n  closingDay: z.number().int().min(1, \"Dia deve ser entre 1 e 31\").max(31, \"Dia deve ser entre 1 e 31\"),\n  dueDay: z.number().int().min(1, \"Dia deve ser entre 1 e 31\").max(31, \"Dia deve ser entre 1 e 31\"),\n  color: z.string().regex(/^#[0-9A-Fa-f]{6}$/, \"Cor inválida (formato: #RRGGBB)\"),\n})\n\nexport const purchaseSchema = z.object({\n  description: z.string().min(1, \"Descrição é obrigatória\").max(255, \"Descrição muito longa\"),\n  amount: z.number().positive(\"Valor deve ser maior que zero\"),\n  purchase_date: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, \"Data inválida (formato: YYYY-MM-DD)\"),\n  category_id: z.string().uuid(\"Categoria inválida\").nullable(),\n  installments: z.number().int().min(1, \"Parcelas deve ser no mínimo 1\").max(48, \"Máximo 48 parcelas\"),\n  notes: z.string().max(1000, \"Notas muito longas\").nullable(),\n  payment_method: z.enum([\"credit\", \"debit\"], {\n    errorMap: () => ({ message: \"Método de pagamento deve ser crédito ou débito\" }),\n  }),\n})\n\nexport const categorySchema = z.object({\n  name: z.string().min(1, \"Nome é obrigatório\").max(100, \"Nome muito longo\"),\n  type: z.enum([\"income\", \"expense\"], {\n    errorMap: () => ({ message: \"Tipo deve ser receita ou despesa\" }),\n  }),\n  color: z.string().regex(/^#[0-9A-Fa-f]{6}$/, \"Cor inválida (formato: #RRGGBB)\").nullable(),\n  icon: z.string().max(50, \"Ícone muito longo\").nullable(),\n})\n\nexport type TransactionInput = z.infer<typeof transactionSchema>\nexport type CreditCardInput = z.infer<typeof creditCardSchema>\nexport type PurchaseInput = z.infer<typeof purchaseSchema>\nexport type CategoryInput = z.infer<typeof categorySchema>\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,oBAAoB,yNAAC,CAAC,MAAM,CAAC;IACxC,OAAO,yNAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,wBAAwB,GAAG,CAAC,KAAK;IAC1D,QAAQ,yNAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC5B,MAAM,yNAAC,CAAC,IAAI,CAAC;QAAC;QAAU;KAAU,EAAE;QAClC,UAAU,IAAM,CAAC;gBAAE,SAAS;YAAmC,CAAC;IAClE;IACA,aAAa,yNAAC,CAAC,MAAM,GAAG,IAAI,CAAC,sBAAsB,QAAQ;IAC3D,gBAAgB,yNAAC,CAAC,MAAM,GAAG,IAAI,CAAC,mBAAmB,QAAQ;IAC3D,MAAM,yNAAC,CAAC,MAAM,GAAG,KAAK,CAAC,uBAAuB;IAC9C,aAAa,yNAAC,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,yBAAyB,QAAQ;AACrE;AAEO,MAAM,mBAAmB,yNAAC,CAAC,MAAM,CAAC;IACvC,MAAM,yNAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,sBAAsB,GAAG,CAAC,KAAK;IACvD,YAAY,yNAAC,CACV,MAAM,GACN,KAAK,CAAC,WAAW,uCACjB,QAAQ,GACR,EAAE,CAAC,yNAAC,CAAC,OAAO,CAAC;IAChB,aAAa,yNAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACjC,YAAY,yNAAC,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,6BAA6B,GAAG,CAAC,IAAI;IACzE,QAAQ,yNAAC,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,6BAA6B,GAAG,CAAC,IAAI;IACrE,OAAO,yNAAC,CAAC,MAAM,GAAG,KAAK,CAAC,qBAAqB;AAC/C;AAEO,MAAM,iBAAiB,yNAAC,CAAC,MAAM,CAAC;IACrC,aAAa,yNAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,2BAA2B,GAAG,CAAC,KAAK;IACnE,QAAQ,yNAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC5B,eAAe,yNAAC,CAAC,MAAM,GAAG,KAAK,CAAC,uBAAuB;IACvD,aAAa,yNAAC,CAAC,MAAM,GAAG,IAAI,CAAC,sBAAsB,QAAQ;IAC3D,cAAc,yNAAC,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,iCAAiC,GAAG,CAAC,IAAI;IAC/E,OAAO,yNAAC,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,sBAAsB,QAAQ;IAC1D,gBAAgB,yNAAC,CAAC,IAAI,CAAC;QAAC;QAAU;KAAQ,EAAE;QAC1C,UAAU,IAAM,CAAC;gBAAE,SAAS;YAAiD,CAAC;IAChF;AACF;AAEO,MAAM,iBAAiB,yNAAC,CAAC,MAAM,CAAC;IACrC,MAAM,yNAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,sBAAsB,GAAG,CAAC,KAAK;IACvD,MAAM,yNAAC,CAAC,IAAI,CAAC;QAAC;QAAU;KAAU,EAAE;QAClC,UAAU,IAAM,CAAC;gBAAE,SAAS;YAAmC,CAAC;IAClE;IACA,OAAO,yNAAC,CAAC,MAAM,GAAG,KAAK,CAAC,qBAAqB,mCAAmC,QAAQ;IACxF,MAAM,yNAAC,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI,qBAAqB,QAAQ;AACxD"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/05585611100/Videos/CtrlGastos/Controle/app/transactions/actions.ts"],"sourcesContent":["\"use server\"\n\nimport { createClient } from \"@/lib/supabase/server\"\nimport { revalidatePath } from \"next/cache\"\nimport { redirect } from \"next/navigation\"\nimport { transactionSchema } from \"@/lib/validations\"\n\nexport async function createTransaction(formData: FormData) {\n  const supabase = await createClient()\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { error: \"Usuário não autenticado\" }\n  }\n\n  try {\n    const validated = transactionSchema.parse({\n      title: formData.get(\"title\"),\n      amount: Number.parseFloat(formData.get(\"amount\") as string),\n      type: formData.get(\"type\"),\n      category_id: (formData.get(\"category_id\") as string) || null,\n      credit_card_id: (formData.get(\"credit_card_id\") as string) || null,\n      date: formData.get(\"date\"),\n      description: (formData.get(\"description\") as string) || null,\n    })\n\n    const { data, error } = await supabase.rpc(\"create_transaction_with_balance\", {\n      p_user_id: user.id,\n      p_title: validated.title,\n      p_amount: validated.amount,\n      p_type: validated.type,\n      p_category_id: validated.category_id,\n      p_credit_card_id: validated.credit_card_id,\n      p_date: validated.date,\n      p_description: validated.description,\n    })\n\n    if (error) {\n      return { error: error.message }\n    }\n\n    if (data && !data.success) {\n      return { error: data.error }\n    }\n\n    revalidatePath(\"/transactions\")\n    revalidatePath(\"/dashboard\")\n    revalidatePath(\"/credit-cards\")\n    redirect(\"/transactions\")\n  } catch (err: any) {\n    console.error(\"Erro ao criar transação:\", err)\n    if (err.errors) {\n      return { error: err.errors[0]?.message || \"Dados inválidos\" }\n    }\n    return { error: err.message || \"Erro ao criar transação\" }\n  }\n}\n\nexport async function updateTransaction(id: string, formData: FormData) {\n  const supabase = await createClient()\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { error: \"Usuário não autenticado\" }\n  }\n\n  try {\n    const validated = transactionSchema.parse({\n      title: formData.get(\"title\"),\n      amount: Number.parseFloat(formData.get(\"amount\") as string),\n      type: formData.get(\"type\"),\n      category_id: (formData.get(\"category_id\") as string) || null,\n      credit_card_id: (formData.get(\"credit_card_id\") as string) || null,\n      date: formData.get(\"date\"),\n      description: (formData.get(\"description\") as string) || null,\n    })\n\n    const { data, error } = await supabase.rpc(\"update_transaction_with_balance\", {\n      p_transaction_id: id,\n      p_user_id: user.id,\n      p_title: validated.title,\n      p_amount: validated.amount,\n      p_type: validated.type,\n      p_category_id: validated.category_id,\n      p_credit_card_id: validated.credit_card_id,\n      p_date: validated.date,\n      p_description: validated.description,\n    })\n\n    if (error) {\n      return { error: error.message }\n    }\n\n    if (data && !data.success) {\n      return { error: data.error }\n    }\n\n    revalidatePath(\"/transactions\")\n    revalidatePath(\"/dashboard\")\n    revalidatePath(\"/credit-cards\")\n    redirect(\"/transactions\")\n  } catch (err: any) {\n    if (err.errors) {\n      return { error: err.errors[0]?.message || \"Dados inválidos\" }\n    }\n    return { error: \"Erro ao atualizar transação\" }\n  }\n}\n\nexport async function deleteTransaction(id: string) {\n  const supabase = await createClient()\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { error: \"Usuário não autenticado\" }\n  }\n\n  const { data, error } = await supabase.rpc(\"delete_transaction_with_balance\", {\n    p_transaction_id: id,\n    p_user_id: user.id,\n  })\n\n  if (error) {\n    return { error: error.message }\n  }\n\n  if (data && !data.success) {\n    return { error: data.error }\n  }\n\n  revalidatePath(\"/transactions\")\n  revalidatePath(\"/dashboard\")\n  revalidatePath(\"/credit-cards\")\n  return { success: true }\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/05585611100/Videos/CtrlGastos/Controle/.next-internal/server/app/transactions/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {deleteTransaction as '40cb28242e309a3e074cca38c516dd1ecd876a9d44'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}